<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Files Le Coach ‚Äî Coach Sportif IA</title>
  <meta name="description" content="Files Le Coach, votre coach sportif artificiel 24/7 : programmes d'entra√Ænement, coin nutrition, suivi des progr√®s et partenaires pour atteindre vos objectifs." />
  <meta name="theme-color" content="#16a34a" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>

    :root{
      --bg:#ffffff;          /* fond clair tr√®s lisible */
      --panel:#f7f7f9;       /* panneaux gris tr√®s clair */
      --muted:#333333;       /* texte secondaire fonc√© */
      --text:#111111;        /* texte principal */
      --brand:#16a34a;       /* vert sportif */
      --brand2:#15803d;      /* vert fonc√© compl√©ment */
      --accent:#0ea5e9;      /* bleu accent */
      --ring:rgba(14,165,233,.35);
      --radius:14px;
      --shadow:0 6px 18px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
      line-height:1.6;
      overflow-y:scroll
    }

    /* D√©filement section par section (inchang√©) */
    main{height:100vh;overflow-y:auto;scroll-snap-type:y mandatory}
    section{min-height:100vh;scroll-snap-align:start;display:flex;align-items:center;background:var(--bg)}

    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    img{max-width:100%;display:block}
    .container{max-width:1100px;margin:0 auto;padding:0 24px}

    /* Header tr√®s lisible */
    header{
      position:fixed;top:0;left:0;right:0;z-index:50;
      background:#fffffff2;
      backdrop-filter:blur(6px);
      border-bottom:1px solid #e5e7eb
    }
    .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
    .brand{display:flex;gap:12px;align-items:center;font-weight:800;letter-spacing:.2px;color:#111}
    .brand .mark{
      width:36px;height:36px;border-radius:10px;
      background:linear-gradient(135deg,var(--brand),var(--accent));
      box-shadow:0 6px 12px rgba(22,163,74,.25)
    }
    .menu{display:flex;gap:16px}
    .menu a{padding:8px 12px;border-radius:8px;color:#111;font-weight:600}
    .menu a:hover{background:#f2f4f7}
    .cta{padding:10px 14px;border-radius:10px;background:var(--brand);color:white;font-weight:800;box-shadow:var(--shadow)}
    .burger{display:none;background:none;border:0;color:#111;font-size:20px}
    @media (max-width:860px){
      .menu{display:none}
      .burger{display:block}
      .menu.open{
        display:flex;flex-direction:column;position:absolute;left:20px;right:20px;top:64px;
        background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:10px;box-shadow:var(--shadow)
      }
      .menu.open a{padding:12px}
    }

    /* Hero & sections (typographie et contrastes renforc√©s) */
    .hero .wrap{display:grid;grid-template-columns:1.1fr .9fr;gap:34px;align-items:center}
    .hero h1{font-size:46px;line-height:1.15;margin:0 0 12px;color:#0b0f14}
    .hero p{color:#1f2937;font-size:18px}
    .badges{display:flex;gap:10px;flex-wrap:wrap;margin:18px 0 24px}
    .badge{background:#eef2f7;color:#0b0f14;border:1px solid #e5e7eb;padding:6px 10px;border-radius:999px;font-weight:700;font-size:12px}
    .card{background:#ffffff;border:1px solid #e5e7eb;border-radius:var(--radius);box-shadow:var(--shadow)}
    .hero .visual{position:relative}
    .glow{display:none} /* pas n√©cessaire sur fond clair */
    .stats{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:16px}
    .stat{padding:14px;text-align:center;border-radius:12px;background:#fff;border:1px solid #e5e7eb}
    .stat .num{display:block;font-size:22px;font-weight:800;color:#0b0f14}

    section .content{width:100%}
    .section-head{display:flex;align-items:end;justify-content:space-between;margin-bottom:14px}
    .section-head h2{margin:0;font-size:32px;color:#0b0f14}
    .section-head p{margin:0;color:#374151}

    .grid-2{display:grid;grid-template-columns:1.1fr .9fr;gap:28px}
    @media (max-width:900px){
      .hero .wrap,.grid-2{grid-template-columns:1fr}
    }

    .list{display:grid;gap:12px}
    .item{display:flex;gap:12px;align-items:flex-start;padding:14px;border-radius:12px;background:#ffffff;border:1px solid #e5e7eb}
    .dot{width:12px;height:12px;margin-top:6px;border-radius:50%;background:var(--brand)}

    /* Points de navigation visibles */
    .dots{position:fixed;right:18px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:40}
    .dots a{width:10px;height:10px;border-radius:50%;display:block;background:#e5e7eb;border:1px solid #cbd5e1}
    .dots a.active,.dots a:hover{background:var(--brand);box-shadow:0 0 0 6px rgba(22,163,74,.18)}

    /* Footer clair */
    footer{padding:24px 0;border-top:1px solid #e5e7eb;background:#fafafa;text-align:center;color:#4b5563}

    /* Astuce d√©filement */
    .hint{position:fixed;bottom:16px;left:50%;transform:translateX(-50%);background:#ffffff;border:1px solid #e5e7eb;padding:8px 12px;border-radius:999px;color:#374151;font-size:13px;box-shadow:var(--shadow)}

  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand"><span class="mark"></span><span>Files <span style="color:var(--brand2)">Le Coach</span></span></div><div style="margin-left:auto; display:flex; gap:6px;">
  <button onclick="setLang('fr')">üá´üá∑ FR</button>
  <button onclick="setLang('en')">üá¨üáß EN</button>
</div>
      <button class="burger" aria-label="Menu" onclick="document.querySelector('.menu').classList.toggle('open')">‚ò∞</button>
      <nav class="menu">
        <a href="#intro">Pr√©sentation</a>
        <a href="#pourquoi">Pourquoi Files ?</a>
        <a href="#nutrition">Coin nutrition</a>
        <a href="#expertise">Notre expertise</a>
        <a href="#partenaires">Partenariats</a>
        <a class="cta" href="#contact">Nous contacter</a>
      </nav>
    </div>
  </header>
 <main id="main">
    <!-- 1. Pr√©sentation -->
    <section id="intro" class="hero">
      <div class="container wrap">
        <div>
          <div class="badges">
            <span class="badge">Cr√©√© en 2025</span>
            <span class="badge">Coach IA</span>
            <span class="badge">Objectifs atteints</span>
          </div>
          <h1>Le coach sportif artificiel qui t'accompagne <span style="color:var(--brand2)">24/7</span></h1>
          <p>
            N√© en 2025 apr√®s une forte demande, <strong>Files Le Coach</strong> est un
            <strong>coach de sport artificiel</strong> con√ßu pour t'aider √† atteindre tes objectifs.
            Il cr√©e des <strong>s√©ances personnalis√©es</strong>, t'accompagne en
            <strong>nutrition</strong> et <strong>suit tes progr√®s</strong> en continu pour te garder motiv√©(e) et en s√©curit√©.
          </p>
          <div class="list" style="margin-top:14px">
            <div class="item"><span class="dot"></span><div><strong>S√©ances sur‚Äëmesure</strong> selon ton niveau, ton temps et ton mat√©riel.</div></div>
            <div class="item"><span class="dot"></span><div><strong>Conseils nutrition</strong> et plans adapt√©s √† tes go√ªts.</div></div>
            <div class="item"><span class="dot"></span><div><strong>Suivi intelligent</strong> des performances avec ajustements automatiques.</div></div>
          </div>
          <div class="stats">
            <div class="stat"><span class="num">24/7</span><small>Disponibilit√©</small></div>
            <div class="stat"><span class="num">‚àû</span><small>Programmes adaptatifs</small></div>
            <div class="stat"><span class="num">100%</span><small>Motivation</small></div>
          </div>
        </div>
        <div class="visual card" style="padding:20px">
          <div class="glow"></div>
          <svg viewBox="0 0 600 420" width="100%" height="100%" aria-hidden="true">
            <defs>
              <linearGradient id="g" x1="0" x2="1">
                <stop offset="0%" stop-color="#22c55e"/>
                <stop offset="100%" stop-color="#38bdf8"/>
              </linearGradient>
            </defs>
            <rect x="0" y="0" width="600" height="420" rx="16" fill="#0b1320"/>
            <g transform="translate(40,40)">
              <text x="0" y="0" fill="#a3b0c2" font-size="16">Aper√ßu s√©ance</text>
              <rect x="0" y="20" width="520" height="70" rx="12" fill="#0f1a2b" stroke="#1f2b3f"/>
              <text x="16" y="64" fill="#e6edf5" font-size="22" font-weight="700">Full‚ÄëBody 30' ‚Äî Niveau Interm√©diaire</text>
              <g transform="translate(0,110)">
                <rect x="0" y="0" width="160" height="120" rx="12" fill="#0f1a2b" stroke="#1f2b3f"/>
                <rect x="180" y="0" width="160" height="120" rx="12" fill="#0f1a2b" stroke="#1f2b3f"/>
                <rect x="360" y="0" width="160" height="120" rx="12" fill="#0f1a2b" stroke="#1f2b3f"/>
                <text x="20" y="70" fill="url(#g)" font-size="28" font-weight="800">√âchauff.</text>
                <text x="200" y="70" fill="url(#g)" font-size="28" font-weight="800">Force</text>
                <text x="380" y="70" fill="url(#g)" font-size="28" font-weight="800">Cardio</text>
              </g>
              <g transform="translate(0,250)">
                <text x="0" y="0" fill="#a3b0c2" font-size="16">Suivi de progr√®s</text>
                <polyline points="0,110 60,90 120,100 180,70 240,60 300,45 360,40 420,28 480,24 520,18" fill="none" stroke="url(#g)" stroke-width="4"/>
              </g>
            </g>
          </svg>
        </div>
      </div>
    </section>

    <!-- 2. Pourquoi choisir Files? -->
    <section id="pourquoi">
      <div class="container content">
        <div class="section-head">
          <h2>Pourquoi choisir <span style="color:var(--brand2)">Files</span> ?</h2>
          <p>Un coach disponible 24h/24 et 7j/7</p>
        </div>
        <div class="grid-2">
          <div class="card" style="padding:20px">
            <div class="list">
              <div class="item"><span class="dot"></span><div><strong>Toujours l√†</strong> : d√©marre une s√©ance √† n'importe quelle heure, m√™me le dimanche soir.</div></div>
              <div class="item"><span class="dot"></span><div><strong>R√©ponses instantan√©es</strong> : posture, alternatives, r√©cup√©ration, tout est guid√©.</div></div>
              <div class="item"><span class="dot"></span><div><strong>Adaptatif</strong> : Files ajuste la charge et le volume en fonction de tes sensations.</div></div>
              <div class="item"><span class="dot"></span><div><strong>S√©curit√©</strong> : √©chauffements, progressions et alertes fatigue int√©gr√©s.</div></div>
            </div>
          </div>
          <div class="card" style="padding:20px">
            <h3 style="margin-top:0">Exemples d'objectifs</h3>
            <div class="list">
              <div class="item"><span class="dot"></span><div>Remise en forme post‚Äëpause</div></div>
              <div class="item"><span class="dot"></span><div>Prise de masse musculaire propre</div></div>
              <div class="item"><span class="dot"></span><div>Perte de gras durable (sans restriction extr√™me)</div></div>
              <div class="item"><span class="dot"></span><div>Pr√©paration course 5/10/21 km</div></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 3. Coin nutrition -->
    <section id="nutrition">
      <div class="container content">
        <div class="section-head">
          <h2>Coin nutrition ü•ó</h2>
          <p>Les meilleures recettes pour une alimentation saine</p>
        </div>
        <div class="grid-2">
          <div>
            <p>La nutrition est le carburant de tes performances. Avec Files, tu acc√®des √† des <strong>recettes √©quilibr√©es</strong> et simples, class√©es par objectif (perte de gras, maintien, prise de muscle) et par timing (pr√©‚Äëentra√Ænement, post‚Äëentra√Ænement, d√Æner l√©ger, etc.).</p>
            <div class="list" style="margin-top:12px">
              <div class="item"><span class="dot"></span><div><strong>Macros claires</strong> pour chaque recette (kcal, prot√©ines, glucides, lipides).</div></div>
              <div class="item"><span class="dot"></span><div><strong>Listes de courses</strong> g√©n√©r√©es automatiquement selon ta semaine.</div></div>
              <div class="item"><span class="dot"></span><div><strong>Alternatives</strong> v√©g√©tariennes, sans lactose, sans gluten.</div></div>
            </div>
          </div>
          <div class="card" style="padding:20px">
            <h3 style="margin-top:0">Id√©es rapides</h3>
            <div class="list">
              <div class="item"><span class="dot"></span><div>Bowl prot√©in√© quinoa, poulet, avocat, grenade</div></div>
              <div class="item"><span class="dot"></span><div>Overnight oats cacao & beurre de cacahu√®te (post‚Äëtraining)</div></div>
              <div class="item"><span class="dot"></span><div>Saumon au four, patate douce, brocoli citronn√©</div></div>
              <div class="item"><span class="dot"></span><div>Tofu croustillant, riz complet, l√©gumes croquants</div></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 4. Notre expertise & pens√©e -->
    <section id="expertise">
      <div class="container content">
        <div class="section-head">
          <h2>Notre expertise</h2>
          <p>Ce que nous pensons et d√©fendons</p>
        </div>
        <div class="grid-2">
          <div>
            <p>
              Chez Files, nous croyons que le <strong>sport est essentiel</strong> √† la sant√© <strong>mentale</strong> et <strong>physique</strong>. Bouger r√©guli√®rement r√©duit le stress, am√©liore le sommeil, renforce l'immunit√© et pr√©vient de nombreuses pathologies. Au‚Äëdel√† de la performance, l'activit√© physique nourrit la <strong>confiance</strong>, la <strong>discipline</strong> et la <strong>r√©silience</strong>.
            </p>
            <p>
              Notre m√©thode repose sur des <strong>progressions intelligentes</strong>, la <strong>r√©cup√©ration</strong> et une <strong>p√©riodisation</strong> simple √† suivre. Nous privil√©gions la <strong>constance</strong> aux solutions miracles‚ÄØ: quelques s√©ances bien cibl√©es, semaine apr√®s semaine, valent mieux qu'un sprint √©puisant.
            </p>
          </div>
          <div class="card" style="padding:20px">
            <h3 style="margin-top:0">Principes cl√©s</h3>
            <div class="list">
              <div class="item"><span class="dot"></span><div><strong>Technique d'abord</strong> : chaque mouvement est expliqu√©, variantes incluses.</div></div>
              <div class="item"><span class="dot"></span><div><strong>R√©cup√©ration</strong> : sommeil, mobilit√©, respiration, gestion de la charge.</div></div>
              <div class="item"><span class="dot"></span><div><strong>Mesurable</strong> : objectifs concrets, feedback en temps r√©el, historique clair.</div></div>
              <div class="item"><span class="dot"></span><div><strong>Durable</strong> : on b√¢tit des habitudes qui tiennent dans ta vraie vie.</div></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 5. Partenariats -->
    <section id="partenaires">
      <div class="container content">
        <div class="section-head">
          <h2>Nos partenariats</h2>
          <p>Un √©cosyst√®me complet pour tes objectifs</p>
        </div>
        <div class="grid-2">
          <div class="card" style="padding:20px">
            <p>
              Nous collaborons avec de <strong>nombreux partenaires</strong> pour acc√©l√©rer tes r√©sultats‚ÄØ: salles de sport, marques d'√©quipements, applications de suivi sant√©, sp√©cialistes (kin√©s, nutritionnistes) et services de livraison saine. Cet √©cosyst√®me te donne des <strong>avantages exclusifs</strong> (r√©ductions, essais, bilans) et un accompagnement coh√©rent.
            </p>
            <div class="list" style="margin-top:12px">
              <div class="item"><span class="dot"></span><div><strong>Gyms & studios</strong> : acc√®s et programmes int√©gr√©s.</div></div>
              <div class="item"><span class="dot"></span><div><strong>√âquipement</strong> : halt√®res, bandes, capteurs.</div></div>
              <div class="item"><span class="dot"></span><div><strong>Experts</strong> : r√©seau de pros pour des conseils cibl√©s.</div></div>
              <div class="item"><span class="dot"></span><div><strong>Food healthy</strong> : partenaires repas & snacks √©quilibr√©s.</div></div>
            </div>
          </div>
          <div class="card" style="padding:20px">
            <h3 style="margin-top:0">Comment on t'aide</h3>
            <div class="list">
              <div class="item"><span class="dot"></span><div>Offres n√©goci√©es pour t'√©quiper sans te ruiner.</div></div>
              <div class="item"><span class="dot"></span><div>Bilans r√©guliers avec un pro si tu en as besoin.</div></div>
              <div class="item"><span class="dot"></span><div>Int√©gration des donn√©es (pas, sommeil, fr√©quence cardiaque).</div></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 6. Contact -->
    <section id="contact">
      <div class="container content">
        <div class="section-head">
          <h2>Nous contacter</h2>
          <p>Une question, un objectif, un partenariat ?</p>
        </div>
        <div class="grid-2">
          <div class="card" style="padding:20px">
            <p>√âcris‚Äënous, on te r√©pond rapidement :</p>
            <p style="font-size:22px;font-weight:800"><a class="cta" href="mailto:sportifandpro@gmail.com">sportifandpro@gmail.com</a></p>
            <p style="color:var(--muted)">Indique ton objectif, ton niveau et tes contraintes de temps. On s'occupe du reste ‚úåÔ∏è</p>
          </div>
          <div class="card" style="padding:20px">
            <h3 style="margin-top:0">Pr√™t(e) √† commencer ?</h3>
            <p>Ajoute Files √† ton √©cran d'accueil et lance ta premi√®re s√©ance d√®s aujourd'hui.</p>
            <a class="cta" href="https://questionnaire-files.netlify.app" 
   target="_blank" rel="noopener" 
   style="display:inline-block;margin-top:10px">
  Acc√®s
</a>
   </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">¬© 2025 Files Le Coach ‚Äî Tous droits r√©serv√©s</div>
  </footer>

 <!-- ===== Files Chat Bubble + Panel ===== -->
<style>
  :root{
    --text:#111; --line:#e5e7eb; --brand:#16a34a; --brand2:#22c55e; --accent:#0ea5e9;
  }
  /* Bulle flottante */
  #files-chat-bubble{
    position:fixed; right:18px; bottom:18px; width:56px; height:56px;
    border-radius:50%; display:flex; align-items:center; justify-content:center;
    background:linear-gradient(135deg, var(--brand), var(--accent)); color:#fff;
    font-size:24px; box-shadow:0 10px 20px rgba(0,0,0,.18); cursor:pointer; z-index:1000;
  }
  #files-chat-bubble:hover{ transform:translateY(-1px) }

  /* Panneau de chat */
  #files-chat-panel{
    position:fixed; right:18px; bottom:84px; width:340px; max-width:94vw; height:420px;
    background:#fff; border:1px solid var(--line); border-radius:14px; overflow:hidden;
    box-shadow:0 16px 40px rgba(0,0,0,.18); display:none; z-index:1000;
    font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  }
  #files-chat-panel.open{ display:block }

  .fcp-header{
    display:flex; align-items:center; justify-content:space-between;
    padding:10px 12px; border-bottom:1px solid var(--line); background:#fff;
  }
  .fcp-title{ display:flex; align-items:center; gap:10px; font-weight:800; color:var(--text) }
  .fcp-mark{ width:24px; height:24px; border-radius:8px;
    background:linear-gradient(135deg, var(--brand), var(--accent)); }
  .fcp-close{ border:0; background:transparent; font-size:18px; cursor:pointer; color:#555 }

  .fcp-body{ height:calc(100% - 106px); padding:12px; overflow:auto; background:#fafafa }
  .fcp-msg{ margin:8px 0; padding:10px 12px; border-radius:12px; max-width:78%;
    border:1px solid var(--line); background:#fff; color:#111 }
  .fcp-me{ margin-left:auto; background:#16a34a10; border-color:#16a34a40 }

  .fcp-input{ display:flex; gap:8px; padding:10px; border-top:1px solid var(--line); background:#fff }
  .fcp-input input{ flex:1; padding:10px 12px; border:1px solid var(--line); border-radius:10px; outline:none }
  .fcp-input input:focus{ border-color:var(--brand); box-shadow:0 0 0 3px rgba(22,163,74,.15) }
  .fcp-send{ padding:10px 14px; border:0; border-radius:10px; color:#fff; font-weight:800; cursor:pointer;
    background:linear-gradient(135deg, var(--brand), var(--brand2)); box-shadow:0 6px 16px rgba(0,0,0,.12) }

  @media (max-height:640px){ #files-chat-panel{ height:360px } }
</style>

<!-- Bulle -->
<div id="files-chat-bubble" aria-label="Ouvrir le chat">üí¨</div>

<!-- Panneau -->
<div id="files-chat-panel" role="dialog" aria-label="Files ‚Äì Chat">
  <div class="fcp-header">
    <div class="fcp-title"><span class="fcp-mark"></span><span>Files ‚Äì Chat</span></div>
    <button id="fcp-close" class="fcp-close" aria-label="Fermer">‚úï</button>
  </div>
  <div id="fcp-body" class="fcp-body">
    <div class="fcp-msg">Salut grand(e) sportif(ve) üëã comment puis-je t‚Äôaider ?</div>
  </div>
  <div class="fcp-input">
    <input id="fcp-text" placeholder="√âcris ton message‚Ä¶" />
    <button id="fcp-send" class="fcp-send">Envoyer</button>
  </div>
</div>
<script>
(() => {
  const bubble = document.getElementById('files-chat-bubble');
  const panel  = document.getElementById('files-chat-panel');
  const bodyEl = document.getElementById('fcp-body');
  const input  = document.getElementById('fcp-text');
  const sendBt = document.getElementById('fcp-send');
  const closeBt= document.getElementById('fcp-close');

  const open = () => { panel.classList.add('open'); setTimeout(() => input.focus(), 50); };
  const close = () => panel.classList.remove('open');

  // Ouverture/fermeture
  bubble.addEventListener('click', open);
  closeBt.addEventListener('click', close);
  document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') close(); });

  // Affichage des messages
  function pushMsg(text, me=false){
    const wrap = document.createElement('div');
    wrap.className = 'fcp-msg' + (me ? ' fcp-me' : '');
    wrap.innerHTML = text; // innerHTML pour liens cliquables
    bodyEl.appendChild(wrap);
    bodyEl.scrollTop = bodyEl.scrollHeight;
  }

  // Boutons de suggestions (si le serveur en renvoie)
  function pushSuggestions(list){
    if (!Array.isArray(list) || !list.length) return;
    const row = document.createElement('div');
    row.style.display = 'flex';
    row.style.flexWrap = 'wrap';
    row.style.gap = '6px';
    row.style.marginTop = '6px';
    list.forEach(label => {
      const b = document.createElement('button');
      b.textContent = label;
      b.style.border = '1px solid #e5e7eb';
      b.style.borderRadius = '10px';
      b.style.padding = '6px 10px';
      b.style.background = '#fff';
      b.style.cursor = 'pointer';
      b.onclick = () => { input.value = label; send(); row.remove(); };
      row.appendChild(b);
    });
    bodyEl.appendChild(row);
    bodyEl.scrollTop = bodyEl.scrollHeight;
  }

  // Envoi / r√©ception
  let sending = false;
  async function send(){
    const text = input.value.trim();
    if (!text || sending) return;
    sending = true;

    pushMsg(text, true);
    input.value = '';

    try {
      const r = await fetch('/.netlify/functions/chatboot', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: text })
      });

      if (!r.ok) {
        const errText = await r.text().catch(()=> '');
        console.error('Function error:', r.status, errText);
        pushMsg(`‚ö†Ô∏è Erreur serveur (${r.status}).`, false);
        return;
      }

      const data = await r.json().catch(e => {
        console.error('JSON parse error', e);
        return {};
      });

      pushMsg(data.reply || "‚ùå Pas de r√©ponse du serveur.");
      if (data.suggestions) pushSuggestions(data.suggestions);
    } catch (e) {
      pushMsg("‚ö†Ô∏è Erreur de connexion au serveur.");
      console.error(e);
    } finally {
      sending = false;
      input.focus();
    }
  }

  // üéØ Listeners d‚Äôenvoi (bouton + Entr√©e)
  sendBt.addEventListener('click', send);
  input.addEventListener('keydown', (e)=>{ if (e.key === 'Enter') send(); });
})();
</script>
<!-- ===== /Files Chat Bubble + Panel ===== -->
</body>
</html>
